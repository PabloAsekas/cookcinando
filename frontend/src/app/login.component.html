<app-header></app-header>

<div class="container-fluid">
    <div class="row">
        <div class="container col-md-6 col-md-offset-3">
            <ngb-tabset>
                <ngb-tab title="Registrate">
                    <template ngbTabContent>
                        <h3>Regístrate</h3>
                        <div class="input-group" id="nick-input">
                            <span class="input-group-addon">
                                <a style="color:inherit" data-toggle="tooltip" data-placement="left" title="El nombre de usuario debe comenzar por @ y no contener carácteres especiales">
                                    <i class="glyphicon glyphicon-user"></i>
                                </a>
                            </span>
                            <input #nick type="text" class="form-control" id="nick" name="nick" onblur="validateNick()" placeholder="@user">
                            <span class=" form-control-feedback">*</span>
                        </div>
                        <br>
                        <div class="input-group" id="email-input">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                            <input #email type="text" class="form-control" id="email" name="email" onblur="validateEmail()" placeholder="user@user.com">
                            <span class=" form-control-feedback">*</span>
                        </div>
                        <br>
                        <div class="input-group" id="password-input">
                            <span class="input-group-addon">
                                <a style="color:inherit" data-toggle="tooltip" data-placement="left" title="La contraseña debe tener una longitud mínima de 4 carácteres y solo contener mayúsculas, minúsculas y/o números ">
                                    <i class="glyphicon glyphicon-lock"></i>
                                </a>
                            </span>
                            <input #password type="password" class="form-control" id="password" name="password" onblur="validatePassword()" placeholder="Intoduzca la contraseña">
                            <span class=" form-control-feedback">*</span>
                        </div>
                        <br>
                        <div class="input-group" id="repeated-password-input">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-repeat"></i></span>
                            <input #password2 type="password" class="form-control" id="repeated-password" name="repeated-password" onblur="comparePasswords()" placeholder="Repita la contraseña">
                            <span class=" form-control-feedback">*</span>
                        </div>
                        <br>
                        <div class="col-md-4">
                            <label>Elige el tipo de usuario * :</label>
                        </div>
                        <div class="col-md-6">
                            <label class="radio-inline">
                            <input [(ngModel)]="tUser" type="radio" name="type" checked value="individual" >Usuario Individual</label>
                            <label class="radio-inline">
                            <input [(ngModel)]="tUser" type="radio" name="type" value="empresa">Usuario Empresa</label>
                            <input type="hidden" id="type" name="tipoUsuario">
                        </div>
                        <br>
                        <br>
                        <button type="submit" class="btn btn-default center-block" (click)="registry(nick.value, email.value, password.value, password2.value)">Registrarse</button>
                        <br>
                        <!--<div id="registry-error" class="alert alert-danger alert-dismissable">
                            <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
                            <strong>¡Error!</strong> Los campos están vacíos o son erróneos.
                        </div>
                        <br>-->
                        <!--  <div id="registry-success" class="alert alert-success alert-dismissable">
                            <a href="#" class="close" data-dismiss="alert" aria-label="close">×</a>
                            <strong>¡Enhorabuena!</strong> El registro se ha realizado de forma correcta. Ya puedes acceder a tu cuenta de usuario con tu email y contraseña.
                        </div>-->
                    </template>
                </ngb-tab>
                <ngb-tab title="Inicia sesion">
                    <template ngbTabContent>
                        <h3>Inicia sesión</h3>
                        <form action="/login" method="post">
                            <div class="input-group" id="email-login-input">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                                <input #user type="text" class="form-control" name="email" id="email-login" placeholder="user@user.com">
                            </div>
                            <br>
                            <div class="input-group" id="password-login-input">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                <input #pass type="password" class="form-control" name="password" id="password-login" placeholder="Introduzca la contraseña">
                            </div>
                            <br>
                            <button type="submit" (click)="logIn($event, user.value, pass.value)" class="btn btn-default center-block">Entrar</button>
                        </form>
                    </template>
                </ngb-tab>
            </ngb-tabset>
        </div>
    </div>
</div>
<app-footer></app-footer>